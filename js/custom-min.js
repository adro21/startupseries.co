function initOnLoad(){adjustContent();slideSwitcher($("#testimonials"));formActionHandler($("#contact-form"),"php/sendmail.php");if(!isMobile){buildBGParalax($(".bg-paralax-fx"))}buildNavigation($("#header-nav"))}function goGA(e,t,n){if(typeof ga=="function"){ga("send","event",t,e,n)}else{console.log("goGA: Google Analytics was not initialized properly.")}}function initOnReady(){header=$("#main-header")}function getWindowDimensions(){winH=$(window).height();winW=$(window).width();if(winW<tabletThr){isTablet=true}else{isTablet=false}if(winW<mobileThr){isMobile=true}else{isMobile=false}}function adjustContent(){getWindowDimensions();var e=0,t=0;$("#testimonials-container").find("li").each(function(){var n=$(this).height();if(n>e){e=n;t=e;$("#testimonials-container").height(t)}}).each(function(){var e=$(this).height();if(e<t){$(this).css({top:(t-e)/2})}})}function slideSwitcher(e){var t=e.find(".slides"),n=e.find(".slide-nav"),r=e.find(".slide-nav li");r.on({click:function(){var e=$(this).index();r.removeClass("current");$(this).addClass("current");t.find("li").removeClass("current").eq(e).addClass("current");return false}})}function formActionHandler(e,t){function n(e){e.find("input, textarea").val("")}e.on({submit:function(){$(this).removeClass("sent");var r=$(this).find(".required").filter(function(){return $(this).val()==""}),i="";$(this).find(".invalid").removeClass("invalid");if(r.length!==0){r.first().addClass("invalid").focus()}else{i=$(this).serialize();$.ajax({type:"POST",url:t,data:i,beforeSend:function(){e.addClass("standby")},success:function(t){e.addClass("sent");setTimeout(function(){n(e)},2e3)}})}return false}})}function getBGImgSizes(e){var t=[];e.each(function(){var e=$(this).index(),n=$(this).css("background-image").replace(/url\(|\)|\"/gm,"");img=new Image,objBGS=parseInt($(this).css("background-size"),10);img.src=n;var r=img.width,i=img.height,s=r/i;if(objBGS){r=objBGS;i=r/s}t.push(r+"x"+i)});return t}function buildBGParalax(e){var t=getBGImgSizes(e);e.each(function(){var n=$(this);$(window).on({scroll:function(){var e=n.offset().top,r=n.height(),i=n.css("background-position"),s=t[n.index()-1];i=i.split(" ");s=s.split(/x/);var o=s[1],u=i[0];if(winS>=e&&winS<e+r){n.css({backgroundPosition:u+" "+(r-o+winS/pR)+"px"})}},resize:function(){e.attr("style","")}})})}function buildNavigation(e){var t=e.find("li a");t.on({click:function(){if(!$(this).parent().hasClass("current")){e.find("li").removeClass("current");$(this).parent().addClass("current");var t=$(this).parent().index(),n=$("section").eq(t),r=n.offset().top,i=$(document).height();delta=r-hH;if(delta<0){delta=0}if(delta>i-winH){delta=i-winH}$("body, html").stop().animate({scrollTop:delta},2e3,"easeInOutExpo")}return false}});e.find(".logo a").on({click:function(){e.find("li").removeClass("current").first().addClass("current");$("body, html").stop().animate({scrollTop:0},2e3,"easeInOutExpo");return false}});$("#nav-trigger").on({click:function(){$("body").toggleClass("show-nav");return false}});if(isMobile||isTablet){$("#wrapper").swipe({threshold:75,allowPageScroll:"vertical",swipeLeft:function(){if(!$("body").hasClass("show-nav")){$("body").addClass("show-nav")}},swipeRight:function(){if($("body").hasClass("show-nav")){$("body").removeClass("show-nav")}},tap:function(){if($("body").hasClass("show-nav")){$("body").removeClass("show-nav")}}})}}var winW,winH,winS=$(window).scrollTop(),isMobile=false,isTablet=false,tabletThr=1024,mobileThr=720,header,hH=56,pR=4;$.ajaxSetup({cache:false});jQuery.easing.swing=jQuery.easing.swing;jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,t,n,r,i){return jQuery.easing[jQuery.easing.def](e,t,n,r,i)},easeInExpo:function(e,t,n,r,i){return t===0?n:r*Math.pow(2,10*(t/i-1))+n},easeOutExpo:function(e,t,n,r,i){return t==i?n+r:r*(-Math.pow(2,-10*t/i)+1)+n},easeInOutExpo:function(e,t,n,r,i){if(t===0)return n;if(t==i)return n+r;if((t/=i/2)<1)return r/2*Math.pow(2,10*(t-1))+n;return r/2*(-Math.pow(2,-10*--t)+2)+n}});$(document).on({ready:function(){initOnReady()}});$(window).on({load:function(){initOnLoad()},scroll:function(){winS=$(window).scrollTop();if(winS>=100){header.addClass("compact")}else{header.removeClass("compact")}},resize:function(){getWindowDimensions();adjustContent()}})